
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>OS X Lion Upgrade Woes - Pierre Riteau</title>
  <meta name="author" content="Pierre Riteau">

  
  <meta name="description" content="I recently upgraded my Snow Leopard system to Lion.
The installation of the new operating system itself went well.
However, I discovered a few issues &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.pierreriteau.name/blog/2011/12/06/os-x-lion-upgrade-woes">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Pierre Riteau" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Pierre Riteau</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.pierreriteau.name" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">OS X Lion Upgrade Woes</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-12-06T23:45:00+00:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>11:45 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I recently upgraded my Snow Leopard system to Lion.
The installation of the new operating system itself went well.
However, I discovered a few issues once I started using Lion.</p>

<p>The first issue appeared after I installed Xcode 4 through the App Store.
My iPhone 4 would not synchronize with my Mac anymore: the device did not show up in iTunes or in iPhoto.
Console.app was showing the following message:</p>

<pre><code>posix_spawn(“/System/Library/PrivateFrameworks/MobileDevice.framework/Versions/A/Resources/usbmuxd”, …): No such file or directory
</code></pre>

<p>Indeed, the Resources directory was almost empty and missing the precious usbmuxd file.
The <em>solution</em> for this problem was to <a href="http://chibimagic.wordpress.com/2010/11/21/posix_spawnsystemlibraryprivateframeworksmobiledevice-frameworkversionsaresourcesusbmuxd-no-such-file-or-directory/">reinstall Xcode</a> (run <code>/Applications/Install Xcode.app</code> again).</p>

<p>The second issue was related to automatic proxy configuration.
I use this feature to connect to a number of websites through a proxy at work, using a <a href="http://en.wikipedia.org/wiki/Proxy_auto-config">PAC file</a>.
However, Safari in Lion would not go through the proxy, and accessed these websites directly instead.
It turns out that this problem is caused by new sanboxing features of Lion.
Safari was forbidden to read the file from my home directory!
This problem is discussed on this <a href="https://discussions.apple.com/message/15707159#15707159">Apple Support Communities thread</a>.
One proposed solution is to host the file on a web server and use an <code>http://</code> URL instead of a <code>file://</code> one.
However, there is a <a href="https://discussions.apple.com/message/16106081#16106081">better solution</a> that does not rely on having a web server running: storing the PAC file in a directory white-listed for the Safari sandbox.
I copied my PAC file to <code>/Library/Internet Plug-Ins/</code> and updated its URL in the Proxies tab of the Network System Preferences: problem solved!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Pierre Riteau</span></span>

      




<time class='entry-date' datetime='2011-12-06T23:45:00+00:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>11:45 pm</span></time>
      


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/12/06/os-x-lion-upgrade-woes/">OS X Lion Upgrade Woes</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Pierre Riteau -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
